/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/AWTForms/Frame.java to edit this template
 */
package com.codechum.awt.layouts;

import java.awt.Component;
import java.awt.Label;

/**
 *
 * @author alysa
 */
public class GeographyQuiz extends java.awt.Frame {

    /**
     * Creates new form QuizApp
     */
    
    private int currentPanelIndex = 0;
    private String[] correctAnswers = {"Paris", "Tokyo", "Berlin"};
    private String[] userAnswers = new String[3];
    
    public GeographyQuiz() {
        initComponents();
        updatePanelVisibility(); 
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        button1 = new java.awt.Button();
        button2 = new java.awt.Button();
        panel3 = new java.awt.Panel();
        label3 = new java.awt.Label();
        textField3 = new java.awt.TextField();
        panel1 = new java.awt.Panel();
        label1 = new java.awt.Label();
        textField1 = new java.awt.TextField();
        panel4 = new java.awt.Panel();
        label4 = new java.awt.Label();
        panel2 = new java.awt.Panel();
        label2 = new java.awt.Label();
        textField2 = new java.awt.TextField();
        label5 = new java.awt.Label();

        setName("QuizApp"); // NOI18N
        setTitle("Geography Quiz");
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowClosing(java.awt.event.WindowEvent evt) {
                exitForm(evt);
            }
        });
        setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        button1.setLabel("Next");
        button1.setName("nextButton"); // NOI18N
        button1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                button1ActionPerformed(evt);
            }
        });
        add(button1, new org.netbeans.lib.awtextra.AbsoluteConstraints(240, 320, -1, -1));

        button2.setLabel("Back");
        button2.setName("backButton"); // NOI18N
        button2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                button2ActionPerformed(evt);
            }
        });
        add(button2, new org.netbeans.lib.awtextra.AbsoluteConstraints(130, 320, -1, -1));

        panel3.setName("panel3"); // NOI18N
        panel3.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        label3.setFont(new java.awt.Font("Dialog", 0, 14)); // NOI18N
        label3.setText("What is the capital of Germany?");
        panel3.add(label3, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 40, -1, -1));

        textField3.setName("question3TextField"); // NOI18N
        panel3.add(textField3, new org.netbeans.lib.awtextra.AbsoluteConstraints(40, 90, 190, -1));

        add(panel3, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 360, 320, 190));

        panel1.setName("panel1"); // NOI18N
        panel1.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        label1.setFont(new java.awt.Font("Dialog", 0, 14)); // NOI18N
        label1.setText("What is the capital of France?");
        panel1.add(label1, new org.netbeans.lib.awtextra.AbsoluteConstraints(40, 30, -1, -1));

        textField1.setName("question1TextField"); // NOI18N
        panel1.add(textField1, new org.netbeans.lib.awtextra.AbsoluteConstraints(40, 80, 190, -1));

        add(panel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 100, 350, 200));

        panel4.setName("panel4"); // NOI18N
        panel4.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        label4.setAlignment(java.awt.Label.CENTER);
        label4.setFont(new java.awt.Font("Dialog", 0, 14)); // NOI18N
        label4.setText("Congratulations! You have finished the quiz.");
        panel4.add(label4, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 40, -1, -1));

        add(panel4, new org.netbeans.lib.awtextra.AbsoluteConstraints(490, 60, 310, 180));

        panel2.setName("panel2"); // NOI18N
        panel2.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        label2.setFont(new java.awt.Font("Dialog", 0, 14)); // NOI18N
        label2.setText("What is the capital of Japan?");
        panel2.add(label2, new org.netbeans.lib.awtextra.AbsoluteConstraints(40, 50, -1, -1));

        textField2.setName("question2TextField"); // NOI18N
        panel2.add(textField2, new org.netbeans.lib.awtextra.AbsoluteConstraints(50, 90, 170, -1));

        add(panel2, new org.netbeans.lib.awtextra.AbsoluteConstraints(430, 330, 320, 210));

        label5.setName("scoreLabel"); // NOI18N
        label5.setText("Your Score: 0/3");
        add(label5, new org.netbeans.lib.awtextra.AbsoluteConstraints(40, 60, 150, -1));

        pack();
    }// </editor-fold>//GEN-END:initComponents

    /**
     * Exit the Application
     */
    private void exitForm(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_exitForm
        System.exit(0);
    }//GEN-LAST:event_exitForm

    private void button1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_button1ActionPerformed
        // TODO add your handling code here:
        if (currentPanelIndex < 3) {
            userAnswers[currentPanelIndex] = getCurrentTextFieldText();
            currentPanelIndex++;
            updatePanelVisibility();
            calculateAndDisplayScore();
        }         
    }//GEN-LAST:event_button1ActionPerformed

    private void button2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_button2ActionPerformed
        // TODO add your handling code here:
        if (currentPanelIndex > 0) {
            currentPanelIndex--;
            updatePanelVisibility();
        }
    }//GEN-LAST:event_button2ActionPerformed

    private String getCurrentTextFieldText() {
        switch (currentPanelIndex) {
            case 0:
                return textField1.getText();
            case 1:
                return textField2.getText();
            default:
                return textField3.getText();
        }
    }
    
    private void calculateAndDisplayScore() {
        // Calculate the score based on the user's answers and the correct answers on the current panel
        int score = 0;
        for (int i = 0; i < currentPanelIndex; i++) {
            if (userAnswers[i].equalsIgnoreCase(correctAnswers[i])) {
                score++;
            }
        }
        label5.setText("Your Score: " + score + "/3");
    }
    
    private void updatePanelVisibility() {
        panel1.setVisible(currentPanelIndex == 0);
        panel2.setVisible(currentPanelIndex == 1);
        panel3.setVisible(currentPanelIndex == 2);
        panel4.setVisible(currentPanelIndex == 3);

        button2.setVisible(currentPanelIndex > 0);
        button1.setVisible(currentPanelIndex < 3);

        // Adjust the location of the current visible panel
        if (panel1.isVisible()) {
            panel1.setLocation(60, 80);
        } else if (panel2.isVisible()) {
            panel2.setLocation(60, 80);
        } else if (panel3.isVisible()) {
            panel3.setLocation(60, 80);
        } else if (panel4.isVisible()) {
            panel4.setLocation( 60, 80);
        }
    }

    public static void main(String args[]) {
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new GeographyQuiz().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private java.awt.Button button1;
    private java.awt.Button button2;
    private java.awt.Label label1;
    private java.awt.Label label2;
    private java.awt.Label label3;
    private java.awt.Label label4;
    private java.awt.Label label5;
    private java.awt.Panel panel1;
    private java.awt.Panel panel2;
    private java.awt.Panel panel3;
    private java.awt.Panel panel4;
    private java.awt.TextField textField1;
    private java.awt.TextField textField2;
    private java.awt.TextField textField3;
    // End of variables declaration//GEN-END:variables
}
